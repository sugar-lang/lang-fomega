definition
module org/sugarj/languages/SugarFomega
imports org/sugarj/languages/Fomega
        org/sugarj/languages/Sdf2
        org/sugarj/languages/Stratego
        org/sugarj/languages/EditorServices
        org/sugarj/languages/Sugar

exports
  context-free start-symbols
  	SugarCompilationUnit

  context-free syntax
    FomegaModuleDec FomegaImports FomegaOrSugarDec -> SugarCompilationUnit {cons("CompilationUnit")}

    FomegaDefinitions -> FomegaOrSugarDec
    SugarDefElements -> FomegaOrSugarDec
    EditorServiceSections -> FomegaOrSugarDec

    SugarDefElem+ -> SugarDefElements {cons("SugarBody")}
    EditorServiceSection+ -> EditorServiceSections {cons("EditorBody")}

  context-free syntax
    FomegaModuleDec -> ToplevelDeclaration
    FomegaImport -> ToplevelDeclaration
    FomegaOrSugarDec -> ToplevelDeclaration
    
  lexical syntax
    Comment                                                   -> LAYOUT            
    "//" ~[\n\r]* ([\n\r] | EOF)                              -> Comment           
    "/*" CommentPart* "*/"                                    -> Comment           
    ~[\*]                                                     -> CommentPart 
    Asterisk                                                  -> CommentPart       
    "*"                                                       -> Asterisk
                                                              -> EOF          

  lexical restrictions
    "/**" -/- [\/]
    "/*" -/- [\*]
    Asterisk -/- [\/]
    EOF -/- ~[]

  context-free restrictions
    LAYOUT? -/- [\/] . [\/]
    LAYOUT? -/- [\/] . [\*]
